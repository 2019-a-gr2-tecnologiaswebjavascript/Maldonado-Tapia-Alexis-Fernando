<ion-header>
  <ion-toolbar>
    <ion-title>
      Facturaci√≥n
    </ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
    <ion-row>
        <form
        #formularioJugador="ngForm"
        novalidate
        (submit)="guardarFactura(formularioJugador)"
        >
          <ion-row>
            <ion-col>
                <div class="form-group">
                    <ion-item>
                      <ion-label position="floating" for="fecha">Fecha Factura:</ion-label>
                      <ion-datetime displayFormat="MMM DD, YYYY" placeholder="Select Date"
                      required
                      name="fecha" 
                      id="fecha"
                      [(ngModel)]="fecha"
                      #vtNombre = "ngModel"
                      >
      
                      </ion-datetime>
                    </ion-item>               
                </div>
            </ion-col>
            <ion-col>
                <div class="form-group">
                    <ion-item>
                      <ion-label position="floating" for="cedula">Cedula</ion-label>
                      <ion-input type="number" placeholder="Cedula"
                      required
                      name="cedula" 
                      id="cedula"
                      [(ngModel)]="cedula"
                      #vtNombre = "ngModel"
                      ></ion-input>
                    </ion-item>               
                </div>
            </ion-col>
          </ion-row> 

          <ion-row>
            <ion-col>
                <div class="form-group">
                    <ion-item>
                      <ion-label position="floating" for="nombreCliente">Nombre Cliente</ion-label>
                      <ion-input type="string" placeholder="Nombre"
                      required
                      name="nombreCliente" 
                      id="nombreCliente"
                      [(ngModel)]="nombreCliente"
                      #vtNombre = "ngModel"
                      ></ion-input>
                    </ion-item>               
                </div>
      
            </ion-col>
            <ion-col>
                <div class="form-group">
                    <ion-item>
                      <ion-label position="floating" for="telefono">Telefono</ion-label>
                      <ion-input type="number" placeholder="Telefono"
                      required
                      name="telefono" 
                      id="telefono"
                      [(ngModel)]="telefeno"
                      #vtNombre = "ngModel"
                      ></ion-input>
                    </ion-item>               
                </div>
            </ion-col>
          </ion-row>

          <ion-row>
              <ion-col>
                  <div class="form-group">
                      <ion-item>
                        <ion-label position="floating" for="direccion">Direccion</ion-label>
                        <ion-input type="text" placeholder="Direccion"
                        required
                        name="direccion" 
                        id="direccion"
                        [(ngModel)]="direccion"
                        #vtNombre = "ngModel"
                        ></ion-input>
                      </ion-item>               
                  </div>       
              </ion-col>
              <ion-col>
                  <div class="form-group">
                      <ion-item>
                        <ion-label position="floating" for="correo">Correo:</ion-label>
                        <ion-input type="text" placeholder="Correo Electronico"
                        required
                        name="correo" 
                        id="correo"
                        [(ngModel)]="correo"
                        #vtNombre = "ngModel"
                        >
        
                        </ion-input>
                      </ion-item>               
                  </div>
              </ion-col>
            </ion-row>
          



          
          <ion-button type="submit">Guardar</ion-button>
          </form>


    </ion-row>

    <ion-item>
        <ion-label>Equipos</ion-label>
        <ion-select interface="popover" placeholder="Select One" [(ngModel)]="idEquipo" (ionChange)="cambioSelect($event)">
          <ion-select-option *ngFor = "let equipo of listaEquipos"
          value="{{equipo.id}}">{{equipo.nombre}}</ion-select-option>         
        </ion-select>
    </ion-item>
    <ion-row>
      <ion-col>
        Productos
        <ion-row>
          <ion-col>Nombre</ion-col>
          <ion-col>Precio</ion-col>
          <ion-item-sliding *ngFor = "let jugador of listaJugadores" (ionSwipe)="agregarJugador(jugador)">
              <ion-item-options  side="start">
                  <ion-item-option (click)="agregarJugador(jugador)" color="primary" expandable>
                      <ion-icon name="add"></ion-icon>
                    </ion-item-option>
              </ion-item-options>
              <ion-item>
                <ion-label>{{jugador.nombreCamiseta}} ${{jugador.precio}}</ion-label>
              </ion-item>
            </ion-item-sliding>
        </ion-row>
      </ion-col>
      <ion-col>
        Detalle Factura
          <ion-row>
              <ion-col>Nombre</ion-col>
              <ion-col>Cantidad</ion-col>
              <ion-col>Precio</ion-col>
              <ion-list>
                  <ion-item-sliding  *ngFor = "let detalle of listaDetalleFactura" (ionSwipe)="disminuirJugador(detalle)">             
                      <ion-item>
                        <ion-label>
                          <ion-col>{{detalle.nombreJugador}}</ion-col>
                          <ion-col>{{detalle.cantidad}}</ion-col>
                          <ion-col>{{detalle.precio}}</ion-col>
                       </ion-label>
                      </ion-item>
                      <ion-item-options side="end">
                          <ion-item-option (click)="disminuirJugador(detalle)" color="danger" expandable>
                              <ion-icon name="trash"></ion-icon>
                          </ion-item-option>
                        </ion-item-options>
                        
                    </ion-item-sliding>
              </ion-list>

            </ion-row>
      </ion-col>
    </ion-row>
    <ion-row>Total: {{total}}</ion-row>
</ion-content>
